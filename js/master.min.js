function onYouTubeIframeAPIReady(){var e=setInterval(function(){YT.loaded&&restAPI_pages_ready&&restAPI_videoList_ready&&(player=new YT.Player("video-player",{width:600,height:400,videoId:player1stVideo,playerVars:{color:"white",showinfo:0,autoplay:1,rel:0,playlist:player1stVideoList},events:{onReady:onPlayerReady,onStateChange:onPlayerStateChange}}),clearInterval(e))},100)}function onPlayerReady(e){playerReady=1}function onPlayerStateChange(e){switch(e.data){case-1:break;case 0:break;case 1:$("#video-nav .current").removeClass("current"),$("#video-nav [data-yt-video='"+player.getVideoData().video_id+"']").addClass("current");break;case 2:break;case 3:break;case 5:}}!function(){for(var e,t=function(){},a=["assert","clear","count","debug","dir","dirxml","error","exception","group","groupCollapsed","groupEnd","info","log","markTimeline","profile","profileEnd","table","time","timeEnd","timeline","timelineEnd","timeStamp","trace","warn"],n=a.length,l=window.console=window.console||{};n--;)e=a[n],l[e]||(l[e]=t)}(),function(e){e.fn.fixedScrollable=function(){return this.each(function(){var t=e(this),a=0,n=[0,0],l=0;t.data("fixedScrollable")||(t.data("fixedScrollable",1),e(window).on("load scroll",function(i){if("scroll"===i.type){if(l){var s=e(this).scrollTop(),o=t.scrollTop();t.scrollTop(o-(a-s)),a=s}}else"load"===i.type&&t.data("fixedScrollablePoll",setInterval(function(){n[1]=e(document).height()+t[0].scrollHeight,n[1]!==n[0]&&restAPI_pages_ready&&restAPI_posts_ready&&(n[0]=n[1],l||(t.scrollTop(0),l=1),e(window).trigger("resize",[!0]))},150))}).on("resize",function(a,n){var l=e(this).height(),i=e(document).height(),s=t[0].scrollHeight;s>i&&s>l&&"fixed"===t.css("position")?t.css({position:"absolute",bottom:"auto"}):s<=l&&s<=i&&t.css({position:"fixed",bottom:0}),n&&e(window).trigger("scroll")}))})},e(document).ready(function(){e(".fixedScrollable").fixedScrollable()})}(jQuery),function(e,t,a,n){var l,i,s,o,r,c,u,h,d,f,g,p,v="mPageScroll2id",m="mPS2id",_=".m_PageScroll2id,a[rel~='m_PageScroll2id'],.page-scroll-to-id,a[rel~='page-scroll-to-id'],._ps2id",y={scrollSpeed:1e3,autoScrollSpeed:!0,scrollEasing:"easeInOutQuint",scrollingEasing:"easeOutQuint",pageEndSmoothScroll:!0,layout:"vertical",offset:0,highlightSelector:!1,clickedClass:m+"-clicked",targetClass:m+"-target",highlightClass:m+"-highlight",forceSingleHighlight:!1,keepHighlightUntilNext:!1,highlightByNextTarget:!1,disablePluginBelow:!1,clickEvents:!0,appendHash:!1,onStart:function(){},onComplete:function(){},defaultSelector:!1,live:!0,liveSelector:!1},C=0,b={init:function(n){var n=e.extend(!0,{},y,n);if(e(a).data(m,n),i=e(a).data(m),!this.selector){var c="__"+m;this.each(function(){var t=e(this);t.hasClass(c)||t.addClass(c)}),this.selector="."+c}i.liveSelector&&(this.selector+=","+i.liveSelector),l=l?l+","+this.selector:this.selector,i.defaultSelector&&("object"==typeof e(l)&&0!==e(l).length||(l=_)),i.clickEvents&&e(a).undelegate("."+m).delegate(l,"click."+m,function(t){if(w._isDisabled.call(null))return void w._removeClasses.call(null);var a=e(this),n=a.attr("href"),l=a.prop("href");n&&n.indexOf("#/")!==-1||(w._reset.call(null),f=a.data("ps2id-offset")||0,w._isValid.call(null,n,l)&&w._findTarget.call(null,n)&&(t.preventDefault(),o="selector",r=a,w._setClasses.call(null,!0),w._scrollTo.call(null)))}),e(t).unbind("."+m).bind("scroll."+m+" resize."+m,function(){if(w._isDisabled.call(null))return void w._removeClasses.call(null);var t=e("._"+m+"-t");t.each(function(a){var n=e(this),l=n.attr("id"),i=w._findHighlight.call(null,l);w._setClasses.call(null,!1,n,i),a==t.length-1&&w._extendClasses.call(null)})}),s=!0,w._setup.call(null),w._live.call(null)},scrollTo:function(t,a){if(w._isDisabled.call(null))return void w._removeClasses.call(null);if(t&&"undefined"!=typeof t){w._isInit.call(null);var n={layout:i.layout,offset:i.offset,clicked:!1},a=e.extend(!0,{},n,a);w._reset.call(null),h=a.layout,d=a.offset,t=t.indexOf("#")!==-1?t:"#"+t,w._isValid.call(null,t)&&w._findTarget.call(null,t)&&(o="scrollTo",r=a.clicked,r&&w._setClasses.call(null,!0),w._scrollTo.call(null))}},destroy:function(){e(t).unbind("."+m),e(a).undelegate("."+m).removeData(m),e("._"+m+"-t").removeData(m),w._removeClasses.call(null,!0)}},w={_isDisabled:function(){var e=t,n="inner",l=i.disablePluginBelow instanceof Array?[i.disablePluginBelow[0]||0,i.disablePluginBelow[1]||0]:[i.disablePluginBelow||0,0];return"innerWidth"in t||(n="client",e=a.documentElement||a.body),e[n+"Width"]<=l[0]||e[n+"Height"]<=l[1]},_isValid:function(e,a){if(e){a=a?a:e;var n=a.indexOf("#/")!==-1?a.split("#/")[0]:a.split("#")[0],l=t.location.toString().split("#")[0];return"#"!==e&&e.indexOf("#")!==-1&&(""===n||decodeURIComponent(n)===decodeURIComponent(l))}},_setup:function(){var t=w._highlightSelector(),a=1,n=0;return e(t).each(function(){var l=e(this),s=l.attr("href"),o=l.prop("href");if(w._isValid.call(null,s,o)){var r=s.indexOf("#/")!==-1?s.split("#/")[1]:s.split("#")[1],c=e("#"+r);if(c.length>0){i.highlightByNextTarget&&c!==n&&(n?n.data(m,{tn:c}):c.data(m,{tn:"0"}),n=c),c.hasClass("_"+m+"-t")||c.addClass("_"+m+"-t"),c.data(m,{i:a}),l.hasClass("_"+m+"-h")||l.addClass("_"+m+"-h");var u=w._findHighlight.call(null,r);w._setClasses.call(null,!1,c,u),C=a,a++,a==e(t).length&&w._extendClasses.call(null)}}})},_highlightSelector:function(){return i.highlightSelector&&""!==i.highlightSelector?i.highlightSelector:l},_findTarget:function(t){var a=t.indexOf("#/")!==-1?t.split("#/")[1]:t.split("#")[1],n=e("#"+a);if(n.length<1||"fixed"===n.css("position")){if("top"!==a)return;n=e("body")}return c=n,h||(h=i.layout),d=w._setOffset.call(null),u=[(n.offset().top-d[0]).toString(),(n.offset().left-d[1]).toString()],u[0]=u[0]<0?0:u[0],u[1]=u[1]<0?0:u[1],u},_setOffset:function(){d||(d=i.offset?i.offset:0),f&&(d=f);var t,a,n,l;switch(typeof d){case"object":case"string":t=[d.y?d.y:d,d.x?d.x:d],a=[t[0]instanceof jQuery?t[0]:e(t[0]),t[1]instanceof jQuery?t[1]:e(t[1])],a[0].length>0?(n=a[0].height(),"fixed"===a[0].css("position")&&(n+=a[0][0].offsetTop)):n=!isNaN(parseFloat(t[0]))&&isFinite(t[0])?parseInt(t[0]):0,a[1].length>0?(l=a[1].width(),"fixed"===a[1].css("position")&&(l+=a[1][0].offsetLeft)):l=!isNaN(parseFloat(t[1]))&&isFinite(t[1])?parseInt(t[1]):0;break;case"function":t=d.call(null),t instanceof Array?(n=t[0],l=t[1]):n=l=t;break;default:n=l=parseInt(d)}return[n,l]},_findHighlight:function(a){var n=t.location,l=n.toString().split("#")[0],i=n.pathname;return e("._"+m+"-h[href='#"+a+"'],._"+m+"-h[href='"+l+"#"+a+"'],._"+m+"-h[href='"+i+"#"+a+"'],._"+m+"-h[href='#/"+a+"'],._"+m+"-h[href='"+l+"#/"+a+"'],._"+m+"-h[href='"+i+"#/"+a+"']")},_setClasses:function(t,a,n){var l=i.clickedClass,s=i.targetClass,o=i.highlightClass;t&&l&&""!==l?(e("."+l).removeClass(l),r.addClass(l)):a&&s&&""!==s&&n&&o&&""!==o&&(w._currentTarget.call(null,a)?(a.addClass(s),n.addClass(o)):(!i.keepHighlightUntilNext||e("."+o).length>1)&&(a.removeClass(s),n.removeClass(o)))},_extendClasses:function(){var t=i.targetClass,a=i.highlightClass,n=e("."+t),l=e("."+a),s=t+"-first",o=t+"-last",r=a+"-first",c=a+"-last";e("._"+m+"-t").removeClass(s+" "+o),e("._"+m+"-h").removeClass(r+" "+c),i.forceSingleHighlight?i.keepHighlightUntilNext&&n.length>1?(n.slice(0,1).removeClass(t),l.slice(0,1).removeClass(a)):(n.slice(1).removeClass(t),l.slice(1).removeClass(a)):(n.slice(0,1).addClass(s).end().slice(-1).addClass(o),l.slice(0,1).addClass(r).end().slice(-1).addClass(c))},_removeClasses:function(t){e("."+i.clickedClass).removeClass(i.clickedClass),e("."+i.targetClass).removeClass(i.targetClass+" "+i.targetClass+"-first "+i.targetClass+"-last"),e("."+i.highlightClass).removeClass(i.highlightClass+" "+i.highlightClass+"-first "+i.highlightClass+"-last"),t&&(e("._"+m+"-t").removeClass("_"+m+"-t"),e("._"+m+"-h").removeClass("_"+m+"-h"))},_currentTarget:function(a){var n=i["target_"+a.data(m).i],l=a.data("ps2id-target"),s=l&&e(l)[0]?e(l)[0].getBoundingClientRect():a[0].getBoundingClientRect();if("undefined"!=typeof n){var o=a.offset().top,r=a.offset().left,c=n.from?n.from+o:o,u=n.to?n.to+o:o,h=n.fromX?n.fromX+r:r,d=n.toX?n.toX+r:r;return s.top>=u&&s.top<=c&&s.left>=d&&s.left<=h}var f=e(t).height(),g=e(t).width(),p=l?e(l).height():a.height(),v=l?e(l).width():a.width(),_=1+p/f,y=_,C=p<f?_*(f/p):_,b=1+v/g,w=b,I=v<g?b*(g/v):b,S=[s.top<=f/y,s.bottom>=f/C,s.left<=g/w,s.right>=g/I];if(i.highlightByNextTarget){var O=a.data(m).tn;if(O){var M=O[0].getBoundingClientRect();"vertical"===i.layout?S=[s.top<=f/2,M.top>f/2,1,1]:"horizontal"===i.layout&&(S=[1,1,s.left<=g/2,M.left>g/2])}}return S[0]&&S[1]&&S[2]&&S[3]},_scrollTo:function(){p=w._scrollSpeed.call(null),u=i.pageEndSmoothScroll?w._pageEndSmoothScroll.call(null):u;var a=e("html,body"),n=i.autoScrollSpeed?w._autoScrollSpeed.call(null):p,l=a.is(":animated")?i.scrollingEasing:i.scrollEasing,s=e(t).scrollTop(),o=e(t).scrollLeft();switch(h){case"horizontal":o!=u[1]&&(w._callbacks.call(null,"onStart"),a.stop().animate({scrollLeft:u[1]},n,l).promise().then(function(){w._callbacks.call(null,"onComplete")}));break;case"auto":if(s!=u[0]||o!=u[1])if(w._callbacks.call(null,"onStart"),navigator.userAgent.match(/(iPod|iPhone|iPad|Android)/)){var r;a.stop().animate({pageYOffset:u[0],pageXOffset:u[1]},{duration:n,easing:l,step:function(e,a){"pageXOffset"==a.prop?r=e:"pageYOffset"==a.prop&&t.scrollTo(r,e)}}).promise().then(function(){w._callbacks.call(null,"onComplete")})}else a.stop().animate({scrollTop:u[0],scrollLeft:u[1]},n,l).promise().then(function(){w._callbacks.call(null,"onComplete")});break;default:s!=u[0]&&(w._callbacks.call(null,"onStart"),a.stop().animate({scrollTop:u[0]},n,l).promise().then(function(){w._callbacks.call(null,"onComplete")}))}},_pageEndSmoothScroll:function(){var n=e(a).height(),l=e(a).width(),i=e(t).height(),s=e(t).width();return[n-u[0]<i?n-i:u[0],l-u[1]<s?l-s:u[1]]},_scrollSpeed:function(){var t=i.scrollSpeed;return r&&r.length&&r.add(r.parent()).each(function(){var a=e(this);if(a.attr("class")){var n=a.attr("class").split(" ");for(var l in n)if(String(n[l]).match(/^ps2id-speed-\d+$/)){t=n[l].split("ps2id-speed-")[1];break}}}),parseInt(t)},_autoScrollSpeed:function(){var n=e(t).scrollTop(),l=e(t).scrollLeft(),i=e(a).height(),s=e(a).width(),o=[p+p*Math.floor(Math.abs(u[0]-n)/i*100)/100,p+p*Math.floor(Math.abs(u[1]-l)/s*100)/100];return Math.max.apply(Math,o)},_callbacks:function(e){if(i)switch(this[m]={trigger:o,clicked:r,target:c,scrollTo:{y:u[0],x:u[1]}},e){case"onStart":if(i.appendHash&&t.history&&t.history.pushState&&r&&r.length){var a="#"+r.attr("href").split("#")[1];a!==t.location.hash&&history.pushState("","",a)}i.onStart.call(null,this[m]);break;case"onComplete":i.onComplete.call(null,this[m])}},_reset:function(){h=d=f=!1},_isInit:function(){s||b.init.apply(this)},_live:function(){g=setTimeout(function(){i.live?e(w._highlightSelector()).length!==C&&w._setup.call(null):g&&clearTimeout(g),w._live.call(null)},1e3)},_easing:function(){function t(e){var t=7.5625,a=2.75;return e<1/a?t*e*e:e<2/a?t*(e-=1.5/a)*e+.75:e<2.5/a?t*(e-=2.25/a)*e+.9375:t*(e-=2.625/a)*e+.984375}e.easing.easeInQuad=e.easing.easeInQuad||function(e){return e*e},e.easing.easeOutQuad=e.easing.easeOutQuad||function(e){return 1-(1-e)*(1-e)},e.easing.easeInOutQuad=e.easing.easeInOutQuad||function(e){return e<.5?2*e*e:1-Math.pow(-2*e+2,2)/2},e.easing.easeInCubic=e.easing.easeInCubic||function(e){return e*e*e},e.easing.easeOutCubic=e.easing.easeOutCubic||function(e){return 1-Math.pow(1-e,3)},e.easing.easeInOutCubic=e.easing.easeInOutCubic||function(e){return e<.5?4*e*e*e:1-Math.pow(-2*e+2,3)/2},e.easing.easeInQuart=e.easing.easeInQuart||function(e){return e*e*e*e},e.easing.easeOutQuart=e.easing.easeOutQuart||function(e){return 1-Math.pow(1-e,4)},e.easing.easeInOutQuart=e.easing.easeInOutQuart||function(e){return e<.5?8*e*e*e*e:1-Math.pow(-2*e+2,4)/2},e.easing.easeInQuint=e.easing.easeInQuint||function(e){return e*e*e*e*e},e.easing.easeOutQuint=e.easing.easeOutQuint||function(e){return 1-Math.pow(1-e,5)},e.easing.easeInOutQuint=e.easing.easeInOutQuint||function(e){return e<.5?16*e*e*e*e*e:1-Math.pow(-2*e+2,5)/2},e.easing.easeInExpo=e.easing.easeInExpo||function(e){return 0===e?0:Math.pow(2,10*e-10)},e.easing.easeOutExpo=e.easing.easeOutExpo||function(e){return 1===e?1:1-Math.pow(2,-10*e)},e.easing.easeInOutExpo=e.easing.easeInOutExpo||function(e){return 0===e?0:1===e?1:e<.5?Math.pow(2,20*e-10)/2:(2-Math.pow(2,-20*e+10))/2},e.easing.easeInSine=e.easing.easeInSine||function(e){return 1-Math.cos(e*Math.PI/2)},e.easing.easeOutSine=e.easing.easeOutSine||function(e){return Math.sin(e*Math.PI/2)},e.easing.easeInOutSine=e.easing.easeInOutSine||function(e){return-(Math.cos(Math.PI*e)-1)/2},e.easing.easeInCirc=e.easing.easeInCirc||function(e){return 1-Math.sqrt(1-Math.pow(e,2))},e.easing.easeOutCirc=e.easing.easeOutCirc||function(e){return Math.sqrt(1-Math.pow(e-1,2))},e.easing.easeInOutCirc=e.easing.easeInOutCirc||function(e){return e<.5?(1-Math.sqrt(1-Math.pow(2*e,2)))/2:(Math.sqrt(1-Math.pow(-2*e+2,2))+1)/2},e.easing.easeInElastic=e.easing.easeInElastic||function(e){return 0===e?0:1===e?1:-Math.pow(2,10*e-10)*Math.sin((10*e-10.75)*(2*Math.PI/3))},e.easing.easeOutElastic=e.easing.easeOutElastic||function(e){return 0===e?0:1===e?1:Math.pow(2,-10*e)*Math.sin((10*e-.75)*(2*Math.PI/3))+1},e.easing.easeInOutElastic=e.easing.easeInOutElastic||function(e){return 0===e?0:1===e?1:e<.5?-(Math.pow(2,20*e-10)*Math.sin((20*e-11.125)*(2*Math.PI/4.5)))/2:Math.pow(2,-20*e+10)*Math.sin((20*e-11.125)*(2*Math.PI/4.5))/2+1},e.easing.easeInBack=e.easing.easeInBack||function(e){return 2.70158*e*e*e-1.70158*e*e},e.easing.easeOutBack=e.easing.easeOutBack||function(e){return 1+2.70158*Math.pow(e-1,3)+1.70158*Math.pow(e-1,2)},e.easing.easeInOutBack=e.easing.easeInOutBack||function(e){return e<.5?Math.pow(2*e,2)*(7.189819*e-2.5949095)/2:(Math.pow(2*e-2,2)*(3.5949095*(2*e-2)+2.5949095)+2)/2},e.easing.easeInBounce=e.easing.easeInBounce||function(e){return 1-t(1-e)},e.easing.easeOutBounce=e.easing.easeOutBounce||t,e.easing.easeInOutBounce=e.easing.easeInOutBounce||function(e){return e<.5?(1-t(1-2*e))/2:(1+t(2*e-1))/2}}};w._easing.call(),e.fn[v]=function(t){return b[t]?b[t].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof t&&t?void e.error("Method "+t+" does not exist"):b.init.apply(this,arguments)},e[v]=function(t){return b[t]?b[t].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof t&&t?void e.error("Method "+t+" does not exist"):b.init.apply(this,arguments)},e[v].defaults=y}(jQuery,window,document);var player,playerReady,videoList,videos,player1stVideo,player1stVideoList,restAPI_pages_ready,restAPI_videoList_ready,restAPI_posts_ready;!function(e){}(jQuery),function(e){e(function(){e.ajax({url:"http://cms.malihu.com/cgc/wp-json/wp/v2/pages",crossDomain:!0,type:"GET",success:function(t){e.each(t,function(){if("home"===this.slug){var t=this.acf.videos.map(function(e){return e.video_id}).join(",");videoList=t,videos=videoList.split(",");for(var a="",n=0;n<videos.length;n++){var l=videos[n],i=e.grep(videos,function(e){return e!=l});a+="<li><a href='https://www.youtube.com/embed/"+l+"?enablejsapi=1&amp;playlist="+i.join(",")+"&amp;rel=0&amp;controls=1&amp;showinfo=0&amp;autoplay=1' data-yt-video='"+l+"' target='video-player'><img src='https://i.ytimg.com/vi/"+l+"/mqdefault.jpg' /></a></li>",player1stVideo||(player1stVideo=l,player1stVideoList=i.join(","))}e("#video-nav").html(a),restAPI_videoList_ready=1,e(window).trigger("resize").trigger("scroll")}if("about"===this.slug&&e("#about-content").html(this.content.rendered),"clients-brands"===this.slug){var s="";e.each(this.acf.clients,function(e,t){s+="<a href='"+(t.client_link||"#")+"' style='background-image:url("+t.client_logo+"' target='_blank'></a>"}),e("#clients-brands-content").html(this.content.rendered+"<p class='clients-brands'>"+s+"</p>")}"contact"===this.slug&&(e("#contact .content").html(this.content.rendered),e("a[href*='facebook.com/cGcFilmProductions']").html("<i class='fa fa-facebook-official' aria-hidden='true'></i>").addClass("social-icon"),e("a[href*='youtube.com/user/cGcFilmProduction']").html("<i class='fa fa-youtube-square' aria-hidden='true'></i>").addClass("social-icon"))}),restAPI_pages_ready=1},cache:!1}),e.ajax({url:"http://cms.malihu.com/cgc/wp-json/wp/v2/posts",crossDomain:!0,type:"GET",success:function(t){var a="";e.each(t,function(){a+="<div class='article'><div class='content'><h3><span class='date'>"+this.date.split("T")[0]+"</span> "+this.title.rendered+"</h3><div class='article-content'>"+this.content.rendered+"</div></div></div>"}),e("#blog .wrapper").append(a),restAPI_posts_ready=1},cache:!1}),e("#video-nav").on("click","li a",function(t){t.preventDefault(),player.playVideoAt(e(this).parent().index())}),e("#site-nav a, a[href='#top']").mPageScroll2id({live:!1,scrollSpeed:700}),e("#blog .wrapper").on("click",".lazy-yt-placeholder",function(t){t.preventDefault();var a=e(this),n=a.attr("data-ytid"),l="<iframe width='560' height='315' src='https://www.youtube.com/embed/"+n+"?autoplay=1' frameborder='0' allowfullscreen></iframe>";a.parent().html(l)})}),e(window).on("load scroll",function(){var t=e("#site-nav .mPS2id-highlight").length,a=e("#video");t?(playerReady&&player.pauseVideo(),a.addClass("suspend")):a.removeClass("suspend")})}(jQuery);